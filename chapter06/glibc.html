<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      6.9.&nbsp;Glibc-2.16.0
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="lfs" id="lfs-SVN-20120916">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 SVN-20120916
      </h4>
      <h3>
        第&nbsp;6&nbsp;章&nbsp;安装基本系统软件
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="man-pages.html" title=
          "Man-pages-3.42">上一页</a>
          <p>
            Man-pages-3.42
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="adjusting.html" title=
          "Adjusting the Toolchain">下一页</a>
          <p>
            Adjusting the Toolchain
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "第&nbsp;6&nbsp;章&nbsp;安装基本系统软件">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 SVN-20120916">起始页</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="ch-system-glibc" name="ch-system-glibc"></a>6.9. Glibc-2.16.0
      </h1>
      <div class="package" lang="zh-cn" xml:lang="zh-cn">
        <p>
          Glibc 程序包包含主要的 C 库。这个库提供用于分配内存、搜索目录、开关读写文件、字符串处理、表达式匹配和算数等的基本途径。
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">预计编制时间:</strong> <span class=
              "segbody">17.6 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">需求磁盘空间:</strong> <span class=
              "segbody">852 MB</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          6.9.1. 安装 Glibc
        </h2>
        <div class="admon note">
          <img alt="[注意]" src="../images/note.png" />
          <h3>
            注意
          </h3>
          <p>
            LFS 之外的某些程序包推荐安装 GNU libiconv 用于转换文本编码。此工程的主页 (<a class="ulink"
            href=
            "http://www.gnu.org/software/libiconv/">http://www.gnu.org/software/libiconv/</a>)
            表示 “<span class="quote">此库提供一个 <code class=
            "function">iconv()</code> 实现，用于没有提供此实现或无法操作 Unicode 的系统。</span>”
            Glibc 提供一个 <code class="function">iconv()</code> 实现并且可以操作
            Unicode，所以在 LFS 系统上不必安装 libiconv。
          </p>
        </div>
        <p>
          Glibc 编制系统是很完备的，即使编译器的 specs 文件和链接器仍然指向 <code class=
          "filename">/tools</code> 也能完美地编制。specs 和链接器不能在 Glibc 安装之前进行，因为
          Glibc 的 autoconf 测试会给出不正确的结果，也就无法实现清洁的编制。
        </p>
        <p>
          修复一个导致在 LFS 环境中导致编制失败的问题：
        </p>
        <pre class="userinput">
<kbd class=
"command">sed -i 's#&lt;rpc/types.h&gt;#"rpc/types.h"#' sunrpc/rpc_clntout.c</kbd>
</pre>
        <p>
          在运行 <span class="command"><strong>make install</strong></span>
          的时候，一个叫做 <code class="filename">test-installation.pl</code>
          的脚本会对新安装的 Glibc 进行一个小的稳定性测试。用一个补丁修复导致它失败的漏洞：
        </p>
        <pre class="userinput">
<kbd class=
"command">patch -Np1 -i ../glibc-2.16.0-fix_test_installation-1.patch</kbd>
</pre>
        <p>
          <span class="command"><strong>ldd</strong></span> 这个 shell 脚本包含
          Bash 特有的语法。如果按照 BLFS 中 <a class="ulink" href=
          "http://www.linuxfromscratch.org/blfs/view/svn/postlfs/shells.html">
          Shells</a> 一章中的介绍安装了另外的 <span class=
          "command"><strong>/bin/sh</strong></span>，将其默认解释器改为 <span class=
          "command"><strong>/bin/bash</strong></span>：
        </p>
        <pre class="userinput">
<kbd class="command">sed -i 's|@BASH@|/bin/bash|' elf/ldd.bash.in</kbd>
</pre>
        <p>
          现在修复一个在使用有问题的名称服务器时导致某些程序崩溃的问题：
        </p>
        <pre class="userinput">
<kbd class=
"command">patch -Np1 -i ../glibc-2.16.0-res_query_fix-1.patch</kbd>
</pre>
        <p>
          Glibc 文档推荐在源代码目录外另建目录编译 Glibc：
        </p>
        <pre class="userinput">
<kbd class="command">mkdir -v ../glibc-build
cd ../glibc-build</kbd>
</pre>
        <p>
          准备编译 Glibc：
        </p>
        <pre class="userinput">
<kbd class="command">../glibc-2.16.0/configure  \
    --prefix=/usr          \
    --disable-profile      \
    --enable-add-ons       \
    --enable-kernel=2.6.25 \
    --libexecdir=/usr/lib/glibc</kbd>
</pre>
        <div class="variablelist">
          <p class="title">
            <b>配置选项的含义：</b>
          </p>
          <dl>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--libexecdir=/usr/lib/glibc</code></em></span>
            </dt>
            <dd>
              <p>
                此项将 <span class="command"><strong>pt_chown</strong></span>
                程序的位置从默认的 <code class="filename">/usr/libexec</code> 改为
                <code class="filename">/usr/lib/glibc</code>。
              </p>
            </dd>
          </dl>
        </div>
        <p>
          编译程序包：
        </p>
        <pre class="userinput">
<kbd class="command">make</kbd>
</pre>
        <div class="admon important">
          <img alt="[重要]" src="../images/important.png" />
          <h3>
            重要
          </h3>
          <p>
            这一节中，Glibc 的测试套件是十分重要的。无论如何都不要跳过它。
          </p>
        </div>
        <p>
          通常有些测试无法通过，但你可以忽略以下列出的测试失败。现在测试结果：
        </p>
        <pre class="userinput">
<kbd class="command">make -k check 2&gt;&amp;1 | tee glibc-check-log
grep Error glibc-check-log</kbd>
</pre>
        <p>
          你很可能会在 <span class="emphasis"><em>posix/annexc</em></span> 和
          <span class="emphasis"><em>conform/run-conformtest</em></span>
          测试中看到期待的 (被忽略的) 测试失败。另外，Glibc 略微依赖宿主系统。以下列出最常见的问题：
        </p>
        <div class="itemizedlist">
          <ul>
            <li>
              <p>
                <span class=
                "emphasis"><em>nptl/tst-clock2</em></span>、<span class=
                "emphasis"><em>nptl/tst-attr3</em></span>、<span class=
                "emphasis"><em>tst/tst-cputimer1</em></span> 和 <span class=
                "emphasis"><em>rt/tst-cpuclock2</em></span>
                已知无法通过。原因尚不完全明确，但可能是由于细微的时钟问题导致。
              </p>
            </li>
            <li>
              <p>
                在不太新的 Intel/AMD CPU 上数学测试有时会无法通过。
              </p>
            </li>
            <li>
              <p>
                在运行于较古老，较缓慢或者负荷很重的系统上时，有些测试会由于超时而无法通过。改动 make check 命令，设置一个
                TIMEOUTFACTOR 已知可以减少这些错误 (例如 <span class=
                "command"><strong>TIMEOUTFACTOR=16 make -k
                check</strong></span>。
              </p>
            </li>
            <li>
              <p>
                在某些架构上已知可能失败的测试包括
                posix/bug-regex32、misc/tst-writev、elf/check-textrel、nptl/tst-getpid2
                和 stdio-common/bug22。
              </p>
            </li>
          </ul>
        </div>
        <p>
          虽然只是一个无害的消息，Glibc 的安装步骤会因为不存在 <code class=
          "filename">/etc/ld.so.conf</code> 而报错。如此防止此警告：
        </p>
        <pre class="userinput">
<kbd class="command">touch /etc/ld.so.conf</kbd>
</pre>
        <p>
          安装程序包：
        </p>
        <pre class="userinput">
<kbd class="command">make install</kbd>
</pre>
        <p>
          安装默认没有安装的 NIS 和 RPC 相关的头文件；重新编制 glibc 和几个 BLFS 程序包要求它们：
        </p>
        <pre class="userinput">
<kbd class="command">cp -v ../glibc-2.16.0/sunrpc/rpc/*.h /usr/include/rpc
cp -v ../glibc-2.16.0/sunrpc/rpcsvc/*.h /usr/include/rpcsvc
cp -v ../glibc-2.16.0/nis/rpcsvc/*.h /usr/include/rpcsvc</kbd>
</pre>
        <p>
          区域数据可以使系统以一种不同的语言响应，但没有被以上的命令安装。这些区域数据都不是必须的，但如果其中存在缺失，未来的程序包的测试套件可能会跳过重要的测试情况。
        </p>
        <p>
          分立的区域数据可以使用 <span class="command"><strong>localedef</strong></span>
          程序安装。例如，以下第一条 <span class=
          "command"><strong>localedef</strong></span> 命令将 <code class=
          "filename">/usr/share/i18n/locales/cs_CZ</code> 这个独立于字符集的区域数据定义与
          <code class="filename">/usr/share/i18n/charmaps/UTF-8.gz</code>
          这个字符集定义组合，并将结果附加到 <code class=
          "filename">/usr/lib/locale/locale-archive</code>
          文件。以下指令会安装覆盖必要测试需要的最少区域数据：
        </p>
        <pre class="userinput">
<kbd class="command">mkdir -pv /usr/lib/locale
localedef -i cs_CZ -f UTF-8 cs_CZ.UTF-8
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i de_DE -f UTF-8 de_DE.UTF-8
localedef -i en_GB -f UTF-8 en_GB.UTF-8
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i en_US -f UTF-8 en_US.UTF-8
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i fr_FR -f UTF-8 fr_FR.UTF-8
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i it_IT -f UTF-8 it_IT.UTF-8
localedef -i ja_JP -f EUC-JP ja_JP
localedef -i ru_RU -f KOI8-R ru_RU.KOI8-R
localedef -i ru_RU -f UTF-8 ru_RU.UTF-8
localedef -i tr_TR -f UTF-8 tr_TR.UTF-8
localedef -i zh_CN -f GB18030 zh_CN.GB18030</kbd>
</pre>
        <p>
          随后，安装你自己国家的区域数据。
        </p>
        <p>
          你可以用这样一条很消耗时间的命令一次性安装在 <code class=
          "filename">glibc-2.16.0/localedata/SUPPORTED</code> 文件中列出的所有区域数据
          (它包含以上所有，以及很多其他的区域数据)：
        </p>
        <pre class="userinput">
<kbd class="command">make localedata/install-locales</kbd>
</pre>
        <p>
          然后使用 <span class="command"><strong>localedef</strong></span> 命令创建
          <code class="filename">glibc-2.16.0/localedata/SUPPORTED</code>
          文件中没有列出的区域数据。需要它们的情况并不多见。(译注：简体中文 UTF-8 的用户不需要如此)。
        </p>
      </div>
      <div class="configuration" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          <a id="conf-glibc" name="conf-glibc"></a>6.9.2. 配置 Glibc
        </h2>
        <p>
          需要创建 <code class="filename">/etc/nsswitch.conf</code> 这个文件，因为虽然
          Glibc 在此文件缺失或损坏时提供默认值，在联网环境中这些默认值工作的并不好。另外还要配置时区。
        </p>
        <p>
          运行以下命令创建 <code class="filename">/etc/nsswitch.conf</code>：
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; /etc/nsswitch.conf &lt;&lt; "EOF"
<code class="literal"># Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf</code>
EOF</kbd>
</pre>
        <p>
          安装时区数据：
        </p>
        <pre class="userinput">
<kbd class="command">tar -xf ../tzdata2012e.tar.gz

ZONEINFO=/usr/share/zoneinfo
mkdir -pv $ZONEINFO/{posix,right} 

for tz in etcetera southamerica northamerica europe africa antarctica  \
          asia australasia backward pacificnew solar87 solar88 solar89 \
          systemv; do
    zic -L /dev/null   -d $ZONEINFO       -y "sh yearistype.sh" ${tz} 
    zic -L /dev/null   -d $ZONEINFO/posix -y "sh yearistype.sh" ${tz} 
    zic -L leapseconds -d $ZONEINFO/right -y "sh yearistype.sh" ${tz}
done

cp -v zone.tab iso3166.tab $ZONEINFO
zic -d $ZONEINFO -p America/New_York
unset ZONEINFO</kbd>
</pre>
        <div class="variablelist">
          <p class="title">
            <b>zic 命令的含义：</b>
          </p>
          <dl>
            <dt>
              <span class="term"><em class="parameter"><code>zic -L /dev/null
              ...</code></em></span>
            </dt>
            <dd>
              <p>
                此项创建 posix 时区，不包含闰秒。将它们置于 <code class=
                "filename">zoneinfo</code> 和 <code class=
                "filename">zoneinfo/posix</code> 是一种惯例。将 POSIX 时区置于
                <code class="filename">zoneinfo</code>
                中是必要的，否则有的测试套件就会报错。在嵌入式系统中，空间并不充足，你也不会想要更新时区，就可以不使用
                <code class="filename">posix</code> 目录，能够节省
                1.9MB，但是某些应用程序或者测试套件的结果可能不会很理想
              </p>
            </dd>
            <dt>
              <span class="term"><em class="parameter"><code>zic -L
              leapseconds ...</code></em></span>
            </dt>
            <dd>
              <p>
                This creates right timezones, including leap seconds. On an
                embedded system, where space is tight and you do not intend
                to ever update the timezones, or care about the correct time,
                you could save 1.9MB by omitting the <code class=
                "filename">right</code> directory.
              </p>
            </dd>
            <dt>
              <span class="term"><em class="parameter"><code>zic ... -p
              ...</code></em></span>
            </dt>
            <dd>
              <p>
                This creates the <code class="filename">posixrules</code>
                file. We use New York because POSIX requires the daylight
                savings time rules to be in accordance with US rules,
              </p>
            </dd>
          </dl>
        </div>
        <p>
          One way to determine the local time zone is to run the following
          script:
        </p>
        <pre class="userinput">
<kbd class="command">tzselect</kbd>
</pre>
        <p>
          After answering a few questions about the location, the script will
          output the name of the time zone (e.g., <span class=
          "emphasis"><em>America/Edmonton</em></span>). There are also some
          other possible timezones listed in <code class=
          "filename">/usr/share/zoneinfo</code> such as <span class=
          "emphasis"><em>Canada/Eastern</em></span> or <span class=
          "emphasis"><em>EST5EDT</em></span> that are not identified by the
          script but can be used.
        </p>
        <p>
          Then create the <code class="filename">/etc/localtime</code> file
          by running:
        </p>
        <pre class="userinput">
<kbd class=
"command">cp -v --remove-destination /usr/share/zoneinfo/<em class="replaceable"><code>&lt;xxx&gt;</code></em> \
    /etc/localtime</kbd>
</pre>
        <p>
          Replace <em class="replaceable"><code>&lt;xxx&gt;</code></em> with
          the name of the time zone selected (e.g., Canada/Eastern).
        </p>
        <div class="variablelist">
          <p class="title">
            <b>The meaning of the cp option:</b>
          </p>
          <dl>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--remove-destination</code></em></span>
            </dt>
            <dd>
              <p>
                This is needed to force removal of the already existing
                symbolic link. The reason for copying the file instead of
                using a symlink is to cover the situation where <code class=
                "filename">/usr</code> is on a separate partition. This could
                be important when booted into single user mode.
              </p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="configuration" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          <a id="conf-ld" name="conf-ld"></a>6.9.3. Configuring the Dynamic
          Loader
        </h2>
        <p>
          By default, the dynamic loader (<code class=
          "filename">/lib/ld-linux.so.2</code>) searches through <code class=
          "filename">/lib</code> and <code class="filename">/usr/lib</code>
          for dynamic libraries that are needed by programs as they are run.
          However, if there are libraries in directories other than
          <code class="filename">/lib</code> and <code class=
          "filename">/usr/lib</code>, these need to be added to the
          <code class="filename">/etc/ld.so.conf</code> file in order for the
          dynamic loader to find them. Two directories that are commonly
          known to contain additional libraries are <code class=
          "filename">/usr/local/lib</code> and <code class=
          "filename">/opt/lib</code>, so add those directories to the dynamic
          loader's search path.
        </p>
        <p>
          Create a new file <code class="filename">/etc/ld.so.conf</code> by
          running the following:
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; /etc/ld.so.conf &lt;&lt; "EOF"
<code class="literal"># Begin /etc/ld.so.conf
/usr/local/lib
/opt/lib
</code>
EOF</kbd>
</pre>
        <p>
          If desired, the dynamic loader can also search a directory and
          include the contents of files found there. Generally the files in
          this include directory are one line specifying the desired library
          path. To add this capability run the following commands:
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt;&gt; /etc/ld.so.conf &lt;&lt; "EOF"
<code class="literal"># Add an include directory
include /etc/ld.so.conf.d/*.conf
</code>
EOF
mkdir /etc/ld.so.conf.d</kbd>
</pre>
      </div>
      <div class="content" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          <a id="contents-glibc" name="contents-glibc"></a>6.9.4. Glibc 的内容
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed programs:</strong>
              <span class="segbody">catchsegv, gencat, getconf, getent,
              iconv, iconvconfig, ldconfig, ldd, lddlibc4, locale, localedef,
              mtrace, nscd, pcprofiledump, pt_chown, rpcgen, sln, sotruss,
              sprof, tzselect, xtrace, zdump, and zic</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed libraries:</strong>
              <span class="segbody">ld.so, libBrokenLocale.{a,so},
              libSegFault.so, libanl.{a,so}, libbsd-compat.a, libc.{a,so},
              libc_nonshared.a, libcidn.so, libcrypt.{a,so}, libdl.{a,so},
              libg.a, libieee.a, libm.{a,so}, libmcheck.a, libmemusage.so,
              libnsl.{a,so}, libnss_compat.so, libnss_dns.so,
              libnss_files.so, libnss_hesiod.so, libnss_nis.so,
              libnss_nisplus.so, libpcprofile.so, libpthread.{a,so},
              libpthread_nonshared.a, libresolv.{a,so}, librpcsvc.a,
              librt.{a,so}, libthread_db.so, and libutil.{a,so}</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed directories:</strong>
              <span class="segbody">/usr/include/arpa, /usr/include/bits,
              /usr/include/gnu, /usr/include/net, /usr/include/netash,
              /usr/include/netatalk, /usr/include/netax25,
              /usr/include/neteconet, /usr/include/netinet,
              /usr/include/netipx, /usr/include/netiucv,
              /usr/include/netpacket, /usr/include/netrom,
              /usr/include/netrose, /usr/include/nfs, /usr/include/protocols,
              /usr/include/rpc, /usr/include/rpcsvc, /usr/include/sys,
              /usr/lib/audit, /usr/lib/gconv, /usr/lib/glibc,
              /usr/lib/locale, /usr/share/i18n, /usr/share/zoneinfo</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="catchsegv" name="catchsegv"></a><span class=
                    "term"><span class=
                    "command"><strong>catchsegv</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Can be used to create a stack trace when a program
                    terminates with a segmentation fault
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="gencat" name="gencat"></a><span class=
                    "term"><span class=
                    "command"><strong>gencat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Generates message catalogues
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="getconf" name="getconf"></a><span class=
                    "term"><span class=
                    "command"><strong>getconf</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Displays the system configuration values for file system
                    specific variables
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="getent" name="getent"></a><span class=
                    "term"><span class=
                    "command"><strong>getent</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Gets entries from an administrative database
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="iconv" name="iconv"></a><span class=
                    "term"><span class=
                    "command"><strong>iconv</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Performs character set conversion
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="iconvconfig" name="iconvconfig"></a><span class=
                    "term"><span class=
                    "command"><strong>iconvconfig</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Creates fastloading <span class=
                    "command"><strong>iconv</strong></span> module
                    configuration files
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ldconfig" name="ldconfig"></a><span class=
                    "term"><span class=
                    "command"><strong>ldconfig</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Configures the dynamic linker runtime bindings
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ldd" name="ldd"></a><span class=
                    "term"><span class="command"><strong>ldd</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Reports which shared libraries are required by each given
                    program or shared library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="lddlibc4" name="lddlibc4"></a><span class=
                    "term"><span class=
                    "command"><strong>lddlibc4</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Assists <span class="command"><strong>ldd</strong></span>
                    with object files
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="locale" name="locale"></a><span class=
                    "term"><span class=
                    "command"><strong>locale</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Prints various information about the current locale
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="localedef" name="localedef"></a><span class=
                    "term"><span class=
                    "command"><strong>localedef</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Compiles locale specifications
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="mtrace" name="mtrace"></a><span class=
                    "term"><span class=
                    "command"><strong>mtrace</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Reads and interprets a memory trace file and displays a
                    summary in human-readable format
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="nscd" name="nscd"></a><span class=
                    "term"><span class=
                    "command"><strong>nscd</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    A daemon that provides a cache for the most common name
                    service requests
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pcprofiledump" name=
                    "pcprofiledump"></a><span class="term"><span class=
                    "command"><strong>pcprofiledump</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Dumps information generated by PC profiling
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pt_chown" name="pt_chown"></a><span class=
                    "term"><span class=
                    "command"><strong>pt_chown</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    A helper program for <span class=
                    "command"><strong>grantpt</strong></span> to set the
                    owner, group and access permissions of a slave pseudo
                    terminal
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rpcgen" name="rpcgen"></a><span class=
                    "term"><span class=
                    "command"><strong>rpcgen</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Generates C code to implement the Remote Procedure Call
                    (RPC) protocol
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sln" name="sln"></a><span class=
                    "term"><span class="command"><strong>sln</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    A statically linked <span class=
                    "command"><strong>ln</strong></span> program
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sotruss" name="sotruss"></a><span class=
                    "term"><span class=
                    "command"><strong>sotruss</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Traces shared library procedure calls of a specified
                    command
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sprof" name="sprof"></a><span class=
                    "term"><span class=
                    "command"><strong>sprof</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Reads and displays shared object profiling data
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="tzselect" name="tzselect"></a><span class=
                    "term"><span class=
                    "command"><strong>tzselect</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Asks the user about the location of the system and
                    reports the corresponding time zone description
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xtrace" name="xtrace"></a><span class=
                    "term"><span class=
                    "command"><strong>xtrace</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Traces the execution of a program by printing the
                    currently executed function
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="zdump" name="zdump"></a><span class=
                    "term"><span class=
                    "command"><strong>zdump</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    The time zone dumper
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="zic" name="zic"></a><span class=
                    "term"><span class="command"><strong>zic</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    The time zone compiler
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ld.so" name="ld.so"></a><span class=
                    "term"><code class="filename">ld.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The helper program for shared library executables
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libBrokenLocale" name=
                    "libBrokenLocale"></a><span class="term"><code class=
                    "filename">libBrokenLocale</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Used internally by Glibc as a gross hack to get broken
                    programs (e.g., some Motif applications) running. See
                    comments in <code class=
                    "filename">glibc-2.16.0/locale/broken_cur_max.c</code>
                    for more information
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libSegFault" name="libSegFault"></a><span class=
                    "term"><code class="filename">libSegFault</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The segmentation fault signal handler, used by
                    <span class="command"><strong>catchsegv</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libanl" name="libanl"></a><span class=
                    "term"><code class="filename">libanl</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    An asynchronous name lookup library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libbsd-compat" name=
                    "libbsd-compat"></a><span class="term"><code class=
                    "filename">libbsd-compat</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Provides the portability needed in order to run certain
                    Berkeley Software Distribution (BSD) programs under Linux
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libc" name="libc"></a><span class=
                    "term"><code class="filename">libc</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The main C library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libcidn" name="libcidn"></a><span class=
                    "term"><code class="filename">libcidn</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Used internally by Glibc for handling internationalized
                    domain names in the <code class=
                    "function">getaddrinfo()</code> function
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libcrypt" name="libcrypt"></a><span class=
                    "term"><code class="filename">libcrypt</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The cryptography library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libdl" name="libdl"></a><span class=
                    "term"><code class="filename">libdl</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The dynamic linking interface library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libg" name="libg"></a><span class=
                    "term"><code class="filename">libg</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Dummy library containing no functions. Previously was a
                    runtime library for <span class=
                    "command"><strong>g++</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libieee" name="libieee"></a><span class=
                    "term"><code class="filename">libieee</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Linking in this module forces error handling rules for
                    math functions as defined by the Institute of Electrical
                    and Electronic Engineers (IEEE). The default is POSIX.1
                    error handling
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libm" name="libm"></a><span class=
                    "term"><code class="filename">libm</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The mathematical library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libmcheck" name="libmcheck"></a><span class=
                    "term"><code class="filename">libmcheck</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Turns on memory allocation checking when linked to
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libmemusage" name="libmemusage"></a><span class=
                    "term"><code class="filename">libmemusage</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Used by <span class=
                    "command"><strong>memusage</strong></span> to help
                    collect information about the memory usage of a program
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libnsl" name="libnsl"></a><span class=
                    "term"><code class="filename">libnsl</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The network services library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libnss" name="libnss"></a><span class=
                    "term"><code class="filename">libnss</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The Name Service Switch libraries, containing functions
                    for resolving host names, user names, group names,
                    aliases, services, protocols, etc.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libpcprofile" name="libpcprofile"></a><span class=
                    "term"><code class="filename">libpcprofile</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains profiling functions used to track the amount of
                    CPU time spent in specific source code lines
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libpthread" name="libpthread"></a><span class=
                    "term"><code class="filename">libpthread</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    The POSIX threads library
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libresolv" name="libresolv"></a><span class=
                    "term"><code class="filename">libresolv</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains functions for creating, sending, and
                    interpreting packets to the Internet domain name servers
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="librpcsvc" name="librpcsvc"></a><span class=
                    "term"><code class="filename">librpcsvc</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains functions providing miscellaneous RPC services
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="librt" name="librt"></a><span class=
                    "term"><code class="filename">librt</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains functions providing most of the interfaces
                    specified by the POSIX.1b Realtime Extension
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libthread_db" name="libthread_db"></a><span class=
                    "term"><code class="filename">libthread_db</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains functions useful for building debuggers for
                    multi-threaded programs
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libutil" name="libutil"></a><span class=
                    "term"><code class="filename">libutil</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    Contains code for “<span class="quote">standard</span>”
                    functions used in many different Unix utilities
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="man-pages.html" title=
          "Man-pages-3.42">上一页</a>
          <p>
            Man-pages-3.42
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="adjusting.html" title=
          "Adjusting the Toolchain">下一页</a>
          <p>
            Adjusting the Toolchain
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "第&nbsp;6&nbsp;章&nbsp;安装基本系统软件">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 SVN-20120916">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
